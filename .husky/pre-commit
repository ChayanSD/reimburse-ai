echo "Linting the code..."
bun lint
echo "âœ… Linting Passed"

echo "Building the code..."
bun run build
echo "âœ… Building Passed"

echo "checking if commiting directly to main..."
branch="$(git rev-parse --abbrev-ref HEAD)"
user="$(git config user.name | xargs)"

if [ "$branch" = "main" ] && [ "$user" != "Chayan SD" ]; then
  echo "âŒ Only 'Chayan SD' can commit directly to main branch , cause he is the senior software engineerğŸ˜‚"
  exit 1
fi
echo "âœ… Commiting directly to main Passed"